<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>AlgorithmDog</title>
    <link>http://www.iwgc.cn/list/5566</link>
    <description>AlgorithmDog 讲述机器学习和系统研发的轶事,希望把这些事讲得生动有趣.每周日更新哦.欢迎关注.</description>
    <item>
      <title>Kmeas 特征处理的经验</title>
      <link>http://www.iwgc.cn/link/3414657</link>
      <description>&lt;p&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 本文是我同事谢思发同学的文章。Kmeans &lt;/span&gt;&lt;/span&gt;&lt;span&gt;聚类算法&lt;/span&gt;&lt;span&gt;是数据挖掘十大算法之一&lt;/span&gt;&lt;span&gt;。这里&lt;/span&gt;&lt;span&gt;总结一些使用 Kmeans 的心得&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;主要是特征的处理方面。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;枚举型特征&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&lt;span&gt;&amp;nbsp; &lt;/span&gt;&lt;/span&gt;&lt;/span&gt;根据K&lt;/span&gt;&lt;span&gt;means&lt;/span&gt;&lt;span&gt;的&lt;/span&gt;&lt;span&gt;原理，枚举型的特征不&lt;/span&gt;&lt;span&gt;适用于 &lt;span&gt;Kmeans&lt;/span&gt; 聚类&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;span&gt;例&lt;/span&gt;&lt;span&gt;如&lt;/span&gt;&lt;span&gt;有&lt;/span&gt;&lt;span&gt;个&lt;/span&gt;&lt;span&gt;特征是&lt;/span&gt;&lt;span&gt;英雄&lt;/span&gt;&lt;span&gt;的类型，取值&lt;/span&gt;&lt;span&gt;1&lt;/span&gt;&lt;span&gt;-5&lt;/span&gt;&lt;span&gt;。首先在&lt;/span&gt;&lt;span&gt;聚类过程中会对特征取均值，而&lt;/span&gt;&lt;span&gt;对枚举&lt;/span&gt;&lt;span&gt;型&lt;/span&gt;&lt;span&gt;特征&lt;/span&gt;&lt;span&gt;取均值没有意义&lt;/span&gt;&lt;span&gt;。另外 &lt;span&gt;Kmeans&lt;/span&gt; 是&lt;/span&gt;&lt;span&gt;根据&lt;/span&gt;&lt;span&gt;空间&lt;/span&gt;&lt;span&gt;距离&lt;/span&gt;&lt;span&gt;的远近&lt;/span&gt;&lt;span&gt;来&lt;/span&gt;&lt;span&gt;对&lt;/span&gt;&lt;span&gt;数据点进行聚类的&lt;/span&gt;&lt;span&gt;。这样，在算法层面上，取值 &lt;/span&gt;&lt;span&gt;1 的实例&lt;/span&gt;&lt;span&gt;比&lt;/span&gt;&lt;span&gt;取值 &lt;/span&gt;&lt;span&gt;5 的实例&lt;/span&gt;&lt;span&gt;更接近&lt;/span&gt;&lt;span&gt;取值 &lt;/span&gt;&lt;span&gt;2 的实例&lt;/span&gt;&lt;span&gt;，但在实际意义中，不同类型的实例间不存在远近的关系。&lt;/span&gt;&lt;span&gt;在&lt;/span&gt;&lt;span&gt;其他算法中，如 &lt;/span&gt;&lt;span&gt;LR，&lt;/span&gt;&lt;span&gt;会将枚举型特征进行 one-hot &lt;/span&gt;&lt;span&gt;编码&lt;/span&gt;&lt;span&gt;，像&lt;/span&gt;&lt;span&gt;类型特征会转换成一个长度为 &lt;/span&gt;&lt;span&gt;5 的&lt;/span&gt;&lt;span&gt;特征向量&lt;/span&gt;&lt;span&gt;，根据&lt;/span&gt;&lt;span&gt;类型&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;将对应位置的值设为&lt;/span&gt;&lt;span&gt;1。&lt;/span&gt;&lt;span&gt;但是&lt;/span&gt;&lt;span&gt;这种方法&lt;/span&gt;&lt;span&gt;不适合Kmeans &lt;/span&gt;&lt;span&gt;聚类&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;span&gt;在 Kmeans &lt;/span&gt;&lt;span&gt;中&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;为&lt;/span&gt;&lt;span&gt;防止某些大值属性的数据左右样本间的距离&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;会&lt;/span&gt;&lt;span&gt;对&lt;/span&gt;&lt;span&gt;特征&lt;/span&gt;&lt;span&gt;进行&lt;/span&gt;&lt;span&gt;正规化&lt;/span&gt;&lt;span&gt;处理，一般会将特征&lt;/span&gt;&lt;span&gt;值&lt;/span&gt;&lt;span&gt;转换到 &lt;/span&gt;&lt;span&gt;0&lt;/span&gt;&lt;span&gt;-1 &lt;/span&gt;&lt;span&gt;中。在&lt;/span&gt;&lt;span&gt;归一化处理后，只&lt;/span&gt;&lt;span&gt;取值0/1的特征&lt;/span&gt;&lt;span&gt;就会变成强特征，对聚类有很大的影响。&lt;/span&gt;&lt;span&gt;一个&lt;/span&gt;&lt;span&gt;直观的理解，&lt;/span&gt;&lt;span&gt;假设&lt;/span&gt;&lt;span&gt;只有两&lt;/span&gt;&lt;span&gt;维&lt;/span&gt;&lt;span&gt;特征，其中一个取值&lt;/span&gt;&lt;span&gt;0/1。&lt;/span&gt;&lt;span&gt;那么&lt;/span&gt;&lt;span&gt;归一化&lt;/span&gt;&lt;span&gt;处理后，样本的分布&lt;/span&gt;&lt;span&gt;就&lt;/span&gt;&lt;span&gt;会位于两条&lt;/span&gt;&lt;span&gt;线段&lt;/span&gt;&lt;span&gt;上，大致如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMnmtunfOsh01CEZrpxr9cicaY4TlxSsTBtIbfkT15bibcgoSPSFia2hW25YfhFLXIFLdtyAb1XvtvXw/0?wx_fmt=png"/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;对这些数据进行聚类的话，如果初始点分布在两侧，那么&lt;/span&gt;&lt;span&gt;两条线段的数据会被分开，&lt;/span&gt;&lt;span&gt;只会在两条&lt;/span&gt;&lt;span&gt;线段上&lt;/span&gt;&lt;span&gt;分别&lt;/span&gt;&lt;span&gt;进行聚类。位于&lt;/span&gt;&lt;span&gt;不同&lt;/span&gt;&lt;span&gt;线段&lt;/span&gt;&lt;span&gt;上&lt;/span&gt;&lt;span&gt;的&lt;/span&gt;&lt;span&gt;两个&lt;/span&gt;&lt;span&gt;点&lt;/span&gt;&lt;span&gt;，它们&lt;/span&gt;&lt;span&gt;之&lt;/span&gt;&lt;span&gt;间的距离&lt;/span&gt;&lt;span&gt;大于等于1，&lt;/span&gt;&lt;span&gt;大于&lt;/span&gt;&lt;span&gt;线段&lt;/span&gt;&lt;span&gt;内&lt;/span&gt;&lt;span&gt;两两&lt;/span&gt;&lt;span&gt;点之间的&lt;/span&gt;&lt;span&gt;距离&lt;/span&gt;&lt;span&gt;。&lt;/span&gt;&lt;span&gt;同理&lt;/span&gt;&lt;span&gt;在三维中，如果有&lt;/span&gt;&lt;span&gt;个&lt;/span&gt;&lt;span&gt;特征只取值&lt;/span&gt;&lt;span&gt;0/1，&lt;/span&gt;&lt;span&gt;那么数据是分布在两个&lt;/span&gt;&lt;span&gt;正方形&lt;/span&gt;&lt;span&gt;面&lt;/span&gt;&lt;span&gt;上&lt;/span&gt;&lt;span&gt;的&lt;/span&gt;&lt;span&gt;，&lt;/span&gt;&lt;span&gt;聚类也很可能&lt;/span&gt;&lt;span&gt;在&lt;/span&gt;&lt;span&gt;每&lt;/span&gt;&lt;span&gt;个面&lt;/span&gt;&lt;span&gt;内单独&lt;/span&gt;&lt;span&gt;进行。&lt;/span&gt;&lt;span&gt;所以如果采用&lt;/span&gt;&lt;span&gt;one-hot编码，那些0/1特征在很大程度上就决定了聚类结果，其他特征的重要性变很小了。但有时这种枚举型数据又很重要，可以很好地用来刻画实例，那么我们的做法是在聚完类后，将聚类结果和枚举数据做交叉分析。看在每类中，枚举值的分布情况。&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;长尾特征&lt;/span&gt;&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;我们进行用户行为分析时，会用到和用户行为相关数据做特征，比如登录次数、登录时长和好友数等。这些数据一般会有长尾问题。并且有些特征之间存在线性关系，用户在一个特征上的取值大时，在其他特征上的取值也会较大。比如活跃用户在一个登录时长长，好友数很大可能是比较大的。这时候特征分布如下所示，极端用户影响 kmeans 对普通用户的刻画。&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMnmtunfOsh01CEZrpxr9cichCEpQCrVGNvDUicqfkicbSno0ffXMn8hIH11hFJSjss6c46mciaibrXRbA/0?wx_fmt=png"/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;可以看到下面分布图中，80%的数据分布在1%的空间内，而剩下的20%的数据分布在99%的空间内。聚类时，分布在1%空间内的大部分数据会被聚为一类，剩下的聚为一类。当不断增加K值时，模型一般是对99%空间内的数据不断进行细分，因为这些数据之间的空间距离比较大。而对分布在1%空间内的数据则很难进一步细分，或者即使细分了，也只是剥离出了外侧少量数据。下图是我们在某个项目中的聚类结果，可以看到有一类用户占了90%以上，而且随着K的增加，这类用户里只有很小一部分数据会被划分出来。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_jpg/Q3H1TCddfvMnmtunfOsh01CEZrpxr9cicJKwtaaHmeh5abIv0eaTibic3zLxlWOxUHc1yuygCWic4TN2dwjc1qFUcw/0?wx_fmt=jpeg"/&gt;&lt;br/&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;那么为了解决这个问题，&lt;/span&gt;&lt;span&gt;一种可行的方法是是对特征取&lt;/span&gt;&lt;span&gt;LOG，减轻长尾问题。经过这两种方法处理后，都能较好的对玩家进行分类。下图是上图中的数据点取LOG后得到的分布图。&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMnmtunfOsh01CEZrpxr9cicYNbXJ0oHoxRF98ObYF49YG3c5TZPhc2PL5bRXv6oV8nO16BmicwuGAg/0?wx_fmt=png"/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;特征值取LOG后，k=4的分类结果。&lt;/span&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_jpg/Q3H1TCddfvMnmtunfOsh01CEZrpxr9cic7Yz2ImS06IH2USzjaFVcAMNccgnwUEYneOxcunLkGwJd66pPurnS8g/0?wx_fmt=jpeg"/&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;取LOG的方法的缺点在于，会使数据变得不直观，不好理解。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;总结&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp; 谢同学是单身，你懂的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMDJbrOSC3UBtULxFVZ0IYy8Rkhk7eibEUQXrZLWRgwB86mbFvjax9CYV9vibCOUzBkjtmvkR7Scf0Q/0?wx_fmt=png"/&gt;&lt;br/&gt;&lt;/p&gt;</description>
      <pubDate>Tue, 08 Nov 2016 13:22:37 +0800</pubDate>
    </item>
    <item>
      <title>从选拔赛说起——泛化误差分析</title>
      <link>http://www.iwgc.cn/link/3393399</link>
      <description>&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 机器学习模型的泛化误差用于描述模型推理能力，即从样品数据中推导出的规则能够适用于新的数据的能力。光看上面的说明，泛化误差概念不是很好理解。那么怎么通俗易懂地理解泛化误差呢？这篇博客用选拔赛做例子解释泛化误差的基本知识。&lt;span&gt;&lt;/span&gt;&lt;/p&gt;&lt;h3 style=" border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em; ; ; ; ; "&gt;&lt;span&gt;1. 为啥要有泛化误差分析&lt;/span&gt;&lt;/h3&gt;&lt;hr&gt;&lt;h3 style=" border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em; ; ; ; ; "&gt;&lt;span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;假设有一场竞赛, 百科全书中抽取很多很多条目（几乎可以看成百科全书的全部）做题目，答错最少的选手获胜。某学校为了从该校学生中选择一名学生参加这个竞赛，举行了一场选拔赛。因为条件限制，学校只能从百科全书随机抽出一部分条目做题目。这些题目中错误最少的学生将胜出。&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;这所学校希望选择对百科全书全部条目答错最少的学生。因为条件限制，学校只能选择答错选拔赛题目最少的学生。但我们心里是没有底的，万一选拔赛获胜的学生只是运气好，选拔赛的题目碰巧是他会做的，怎么办。&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;这个选拔赛场景和分类器训练过程很像。为了解决一个分类问题，学习算法期望找到在该问题的所有实例最少错误的分类器。但因为条件限制不能用所有实例训练，学习算法用一部分实例做训练样本，选择最小训练误差的分类器。但我们心里也是没有底的，万一得到分类器只是在训练样本上表现好，怎么办。泛化误差分析将回答我们这些担心。&lt;/p&gt;&lt;h3 style=" border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em; ; ; ; ; "&gt;&lt;span&gt;2. 泛化误差分析的基本框架&lt;/span&gt;&lt;/h3&gt;&lt;hr&gt;&lt;h3 style=" border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em; ; ; ; ; "&gt;&lt;span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;假设&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuklRoa5San96wK7IoVsKClLVEhszBoWtNMibZ1ublJ1LskQmQ1IibGmKg/0?wx_fmt=png"/&gt;是所有k个学生的集合。一个学生&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNurgvdloJz75VsE2fsmQ7Fv1ejfD6RqAWpDHsyZJtiaHZdoODcyI3pTDg/0?wx_fmt=png"/&gt;对百科全书中条目是否答错为随机变量z ( 答错为1 ), z以概率&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNu310IOye8jg4bEOTibsPJ7uyxvjItrgPjHKqTPz9uiaWsKJzLqJmXfDTQ/0?wx_fmt=png"/&gt;为1。选拔赛样本的大小为m, 学生在选拔赛中的错误率为&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuTyxHJzTGUGicvzU3DdO15mKUvwwTU5qDva3xEWia066PNAb35mMWtJqQ/0?wx_fmt=png"/&gt;。&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuplib6icYWQ0KjLaU5TehkVTnl1fkAZYOW8UamwO115jW6Nuts97cOjyA/0?wx_fmt=png"/&gt;是m个随机变量z的平均值，根据Hoeffding不等式：&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuts7Qxe2wQ7IInmAfq2V1QxFNRwllCtPxpAicTTSNDSnrG1iaXaibz5Zbg/0?wx_fmt=png"/&gt;是m个独立地服从相同贝努利分布Bernouli(&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNu310IOye8jg4bEOTibsPJ7uyxvjItrgPjHKqTPz9uiaWsKJzLqJmXfDTQ/0?wx_fmt=png"/&gt;)随机变量,又&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuQjxtPUKYB1UDm7By2fpgqdVfica9XZG8LiccXFIHLwmDg2RAbaZGvBPg/0?wx_fmt=png"/&gt;，则有对于任意&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuA11N6ibNIT7fHmGaK98X3K66H0lllG7s9o70qHMzPicicUanLib3N9Wu1A/0?wx_fmt=png"/&gt;,有&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuEELOVwqtaGichICeIm7TMnLSRUfDiawszNtTjreniaJRsYKRKUWE9L7Ng/0?wx_fmt=png"/&gt;&lt;/p&gt;&lt;p&gt;让事件&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuA6Yoo1g1RAH7IDQIQgZkWcR01KTCvempQL67f16rHTzRUpyqPia6xBg/0?wx_fmt=png"/&gt;为第i个学生的泛化误差和训练误差之间的差值大于&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuh0W4MeSN2QJjt7mdwkiaGq5oX44M46SwzWRdzic2aA3IST0KPsT74nHw/0?wx_fmt=png"/&gt;，&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuEMSMfUcCaoM8S5o3LuJc2QqdNAqPAsmtWpaD2niafhhx7LsFBLVIWew/0?wx_fmt=png"/&gt;&lt;/p&gt;&lt;p&gt;转换下得&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuIbykm9LVVMllMsUkzWuFfK8DpHNk7YLlOxbeVnYAVwSPZAxibibicTFYQ/0?wx_fmt=png"/&gt;&lt;/p&gt;&lt;p&gt;令&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuWAVtibdetngDToJrciccNrkBkA8cFU3pSL5DNIXdpTxPRnyqOs7jV1TQ/0?wx_fmt=png"/&gt;,则有&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuNEYaXSkLOhWcrQicRicuYTdx02l36WU3ubwBOSmKBdXzic05Ry4j8o54Q/0?wx_fmt=png"/&gt;。可得,对于所有学生&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuSCYtDOBTZmAQ9eY19aRejnJtXXvvVaXnQaBjpFNEke7qvO2oTlBJXw/0?wx_fmt=png"/&gt;，下列式子以概率&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuv2fZoXPwicLNKic0ichWgz75KdFiaMHd7STQv2D9fPxMSzdKtXV23xaKQg/0?wx_fmt=png"/&gt;成立&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuCjZuIwR6c5IsezMAibSPUv9YOIQqpTjwvPIWsOVtX3hbr0KWTOoaLpQ/0?wx_fmt=png"/&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;其中k为学生数目，m为选拔赛题目个数。直观地解释公式上面的公式：k越大，各种各样的学生数越多，p(s)和&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuplib6icYWQ0KjLaU5TehkVTnl1fkAZYOW8UamwO115jW6Nuts97cOjyA/0?wx_fmt=png"/&gt;&lt;span&gt;的差距越大；m越大，选拔赛的题目越多，越能反映学生真实水平，p(s)和&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuplib6icYWQ0KjLaU5TehkVTnl1fkAZYOW8UamwO115jW6Nuts97cOjyA/0?wx_fmt=png"/&gt;&lt;span&gt;的差距越小。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;假设对百科全书中条目答错最少的同学为&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNujpScZOOgfpUYgiaNBrO3EQqbuk5oPUBbl6b0u7qql39lRkdhmp0XzIg/0?wx_fmt=png"/&gt;,而选拔赛胜出的同学为&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNu3AmIx4RwEjTMxw856I3AzZfcgGHmoDh6vJLXV8pJC4OAPiaiaSxiaib9Kg/0?wx_fmt=png"/&gt;。那么这两位学生泛化误差的差值是多少呢？我们有&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuvUsurOJUSXtZiaUkMQPYZIddyN8EVHbg7qhaq2eXO8s7IQeXlAb13qw/0?wx_fmt=png"/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;上面的式子说明，学习算法得到分类器的真实错误率和所有分类器中最小错误率之间的差值，不超过泛化误差的2倍。&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;以上就是泛化误差分析最基本的知识。大家很容易看出缺陷来，1.上述情况只是对二分类问题（答对或者答错百科全书中的条目）进行分析, 2).分类器个数还是有限的（学生数&amp;nbsp;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuJzIeRpcG28hopAowuoxqaclC7ialOcic8tb6u7cKckvl363bQuz1HxQQ/0?wx_fmt=png"/&gt;&amp;nbsp;是有限的。实践中，候选分类器的个数一般是无限的， 因此第2点尤为致命。对于分类器无限的情况，就得利用到vc维的知识去刻画其中的k。&lt;/p&gt;&lt;h3 style=" border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em; ; ; ; ; "&gt;&lt;span&gt;3. 附录&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;span&gt;Hoeffding不等式&lt;/span&gt;&lt;br/&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuts7Qxe2wQ7IInmAfq2V1QxFNRwllCtPxpAicTTSNDSnrG1iaXaibz5Zbg/0?wx_fmt=png"/&gt;&lt;span&gt;是m个服从相同贝努利分布Bernouli(&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuibE9cAgOxDymP0RbUEwZxAa6IEBZr7QVolUCwXtJYONxxjHcT9PYOaQ/0?wx_fmt=png"/&gt;&lt;span&gt;)的独立同分布的随机变量。&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNurnldfCJ3k3oeRGqbUb500ibT2Fib5CibpdRajdC9kjMv5OU51T4ia1a14Q/0?wx_fmt=png"/&gt;&lt;span&gt;。让&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNujsOvEv177c64ryeu2hkcdc3xlWbhJ1IDrw7J6JkQicGOvtqvZLBJ7GA/0?wx_fmt=png"/&gt;。则有对于任意对于&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNuA11N6ibNIT7fHmGaK98X3K66H0lllG7s9o70qHMzPicicUanLib3N9Wu1A/0?wx_fmt=png"/&gt;,有&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp;&lt;/span&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvMHyc6tEcafW6JceiaRCCwNulGY9XoqrJ1JOPscZxwGJ7vzribayNjRGbAibffN0nCd86wcLREP0meJw/0?wx_fmt=png"/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;hr&gt;&lt;p&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;span&gt;工作之后，时间没有学生时代充裕了。&lt;/span&gt;最近经常发生拖稿断更的情况。更重要的是文章质量也大幅度下降，比如现在无法写出强化学习系列的文章了。为了保证文章质量和我的睡眠，今后博客和公众号更新时间调整了两周一更。两周一更的话，我有一周时间实践，还有一周整理成文。希望能保证文章质量。如对大家产生困扰，万分抱歉。&lt;/span&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 最后一次贴周更的二维码&lt;/p&gt;&lt;p&gt;&lt;a rel="attachment wp-att-2360" style="border: 0px; vertical-align: baseline; color: rgb(116, 51, 153); background: transparent;"&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz/Q3H1TCddfvPE2JpYR7tQ2eqqCLpF5ncuTx6MNCib7Qd3FF67BsxicqGoLo1Y44rRGAah5gUfUrV6QTjIVaanBsDA/0?wx_fmt=png"/&gt;&lt;br/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;</description>
      <pubDate>Sun, 06 Nov 2016 22:56:16 +0800</pubDate>
    </item>
    <item>
      <title>游戏智能系列之三:有限状态自动机</title>
      <link>http://www.iwgc.cn/link/3310976</link>
      <description>&lt;p&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; 游戏智能是很传统的领域，有限状态机和行为树是两种主要方法。&lt;span&gt;&lt;/span&gt;今天这篇博客主要介绍有限状态自动机。&lt;/p&gt;&lt;p&gt;&lt;a rel="attachment wp-att-3322" style="border: 0px; vertical-align: baseline; color: rgb(116, 51, 153); background: transparent;"&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_jpg/Q3H1TCddfvOGTQibwZlSgMfRFiczrqjNsPIHia7nPnxV8w1fBCicwBaHBxhygKy1zkh6bz5w4btDwoDMspN0IkusDQ/0?wx_fmt=jpeg"/&gt;&lt;/a&gt;&lt;/p&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;1. 有限状态机&lt;/span&gt;&lt;/h3&gt;&lt;hr&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;有限状态机 (Finite-state machine，FSM)，又称有限状态自动机，是表示有限个状态以及状态之间转移和动作等行为的数学模型。从它的定义，我们可以看到有限状态机的几个重要概念。&lt;/p&gt;&lt;blockquote style="border: 0px; padding-right: 3em; padding-left: 3em; vertical-align: baseline; quotes: none; font-style: italic; color: rgb(51, 51, 51);"&gt;&lt;p&gt;1.状态：表示对象的某种形态，在当前形态下可能会拥有不同的行为和属性;&lt;br/&gt;2.转移：表示状态变更，并且必须满足确使转移发生的条件来执行;&lt;br/&gt;3.动作：表示在给定时刻要进行的活动;&lt;br/&gt;4.事件：事件通常会引起状态的变迁，促使状态机从一种状态切换到另一种状态。&lt;/p&gt;&lt;/blockquote&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;下图是一个典型的有限状态机，描述了一个简单的对战逻辑。&lt;/p&gt;&lt;p&gt;&lt;a rel="attachment wp-att-3514" style="border: 0px; vertical-align: baseline; color: rgb(116, 51, 153); background: transparent;"&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvOGTQibwZlSgMfRFiczrqjNsPOmicnicPbSKq0ohMdvNLnRfM3ApCURNpwibgf6FbXrq7yG2tkl8HlVeFQ/0?wx_fmt=png"/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;这个有限状态机有三个状态，分别是 idle, escape 和 attack; 不同状态之间的转换是通过动作进行的，比如 idle 状态看到哥布林就会进入 attack 状态。&lt;/p&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;2. Clashjs 游戏中的有限状态机&lt;/span&gt;&lt;/h3&gt;&lt;hr&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;但是在 Clashjs 游戏中，有限状态机需要一些变化。因为 Clashjs 游戏中，一架飞机的状态不仅由它本身采取的动作决定，还由它所处的环境（包括敌机和弹药包）决定。这时候的有限状态机反而简单了，不考虑状态之间的切换，只考虑在每个状态下应该采取什么动作。Clashjs 游戏中的有限状态机的实现代码如下所示。完整的代码已经传到 GitHub 上了（&lt;a style="border: 0px; vertical-align: baseline; color: rgb(116, 51, 153); background: transparent;"&gt;https://github.com/algorithmdog/gameai/tree/master/3.fsm&lt;/a&gt;）。&lt;/p&gt;&lt;p&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvOGTQibwZlSgMfRFiczrqjNsP2sNAuFuE0v7vJN0ltnxsQgDHgANQZ9FvOZJ2aicIvWicBGXkGmSJqb7A/0?wx_fmt=png"/&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;由于状态转移部分在游戏逻辑中，有限状态机代码退化成什么状态采取什么动作的 if-else 语句了。上图实现的有限状态机的示意图如下。&lt;/p&gt;&lt;p&gt;&lt;a rel="attachment wp-att-3532" style="border: 0px; vertical-align: baseline; color: rgb(116, 51, 153); background: transparent;"&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvOGTQibwZlSgMfRFiczrqjNsPzeyibdGfWaBRk6zPqJFw7QwZnFOwppbibrDrnvq7GEpTj2sD2v99rqww/0?wx_fmt=png"/&gt;&lt;/a&gt;&lt;/p&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;&lt;br/&gt;&lt;/span&gt;&lt;/h3&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;3. 总结&lt;/span&gt;&lt;/h3&gt;&lt;hr&gt;&lt;h3 style="border: 0px; margin-bottom: 10px; vertical-align: baseline; clear: both; line-height: 1.5em;"&gt;&lt;span&gt;&lt;/span&gt;&lt;br/&gt;&lt;/h3&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;最近为了写游戏智能系列文章，我了解了一些游戏智能相关知识。我发现和如火如荼的机器学习和虚拟现实一比，游戏智能简直就是南极的冰窟窿。例如，我们很难找到这个领域的好资料和交流圈，特别是有关实操相关的资料。我想原因有两个。第一，游戏智能不 sexy。游戏智能的算法都只是一个框架，具体游戏行为逻辑需要大量人力物力填写，比端到端的深度学习不知道低到哪里去了。第二，游戏智能不容易复现因此比较难学习。机器学习有很多公开的数据集。拿到这些数据集，我们就可以写代码调参数了。但是游戏智能和游戏紧密结合，大部分好的游戏不提供游戏智能的接口，大部分提供接口的游戏质量差强人意。这使得非游戏开发商内部人员很难有机会实践游戏智能，从而很难产生好的实操分享。虽然说了那么多坑，但自己选得路，跪着也要走完。我会努力写完游戏智能系列。&lt;/p&gt;&lt;p&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;欢迎关注 AlgorithmDog。&lt;/p&gt;&lt;p&gt;&lt;a rel="attachment wp-att-2360" style="border: 0px; vertical-align: baseline; color: rgb(116, 51, 153); background: transparent;"&gt;&lt;img src="https://images.weserv.nl/?url=mmbiz.qpic.cn/mmbiz_png/Q3H1TCddfvOGTQibwZlSgMfRFiczrqjNsPmne9rKcKIC0yZQHR3hrVCYkvrZGgwaq173MwriadsZS7h8whosGhzlA/0?wx_fmt=png"/&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;br/&gt;&lt;/p&gt;</description>
      <pubDate>Tue, 01 Nov 2016 01:07:21 +0800</pubDate>
    </item>
  </channel>
</rss>
